import{aF as j,g as q,G as U,aG as z,a9 as J,aH as H,U as B,x as _,h as p,a6 as w,o as K,n as Q,C,H as Z,B as d,aI as k,P as S,m as N,aJ as A,aK as y,aL as P,aM as ee,au as O,ah as $,aN as G,z as te,T as b,k as D,aO as se,v as ie,aP as I,aQ as re,X as ne,aR as ae,aS as he,aT as oe,ap as fe,aU as ce,aV as le,aW as F,l as ue,aX as de,R as _e,aY as L,w as R,aZ as pe,S as ge,E as ve,a_ as ye,p as be,ao as me,y as Ee,a$ as we,c as Te,A as V,O as ke,D as Re}from"./BZ8mPqxH.js";function Se(i){let e=0,s=U(0),r;return()=>{j()&&(q(s),z(()=>(e===0&&(r=J(()=>i(()=>H(s)))),e+=1,()=>{B(()=>{e-=1,e===0&&(r?.(),r=void 0,H(s))})})))}}var Ne=ne|ae|he;function Ae(i,e,s){new De(i,e,s)}class De{parent;#e=!1;#t;#s=p?_:null;#i;#h;#a;#r=null;#n=null;#o=null;#f=null;#c=null;#d=0;#l=0;#_=!1;#u=null;#b=Se(()=>(this.#u=U(this.#d),()=>{this.#u=null}));constructor(e,s,r){this.#t=e,this.#i=s,this.#h=r,this.parent=w.b,this.#e=!!this.#i.pending,this.#a=K(()=>{if(w.b=this,p){const t=this.#s;Q(),t.nodeType===C&&t.data===Z?this.#E():this.#m()}else{var n=this.#v();try{this.#r=d(()=>r(n))}catch(t){this.error(t)}this.#l>0?this.#g():this.#e=!1}return()=>{this.#c?.remove()}},Ne),p&&(this.#t=_)}#m(){try{this.#r=d(()=>this.#h(this.#t))}catch(e){this.error(e)}this.#e=!1}#E(){const e=this.#i.pending;e&&(this.#n=d(()=>e(this.#t)),k.enqueue(()=>{var s=this.#v();this.#r=this.#p(()=>(k.ensure(),d(()=>this.#h(s)))),this.#l>0?this.#g():(S(this.#n,()=>{this.#n=null}),this.#e=!1)}))}#v(){var e=this.#t;return this.#e&&(this.#c=N(),this.#t.before(this.#c),e=this.#c),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#i.pending}#p(e){var s=w,r=O,n=$;A(this.#a),y(this.#a),P(this.#a.ctx);try{return e()}catch(t){return ee(t),null}finally{A(s),y(r),P(n)}}#g(){const e=this.#i.pending;this.#r!==null&&(this.#f=document.createDocumentFragment(),this.#f.append(this.#c),G(this.#r,this.#f)),this.#n===null&&(this.#n=d(()=>e(this.#t)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}this.#l+=e,this.#l===0&&(this.#e=!1,this.#n&&S(this.#n,()=>{this.#n=null}),this.#f&&(this.#t.before(this.#f),this.#f=null))}update_pending_count(e){this.#y(e),this.#d+=e,this.#u&&te(this.#u,this.#d)}get_effect_pending(){return this.#b(),q(this.#u)}error(e){var s=this.#i.onerror;let r=this.#i.failed;if(this.#_||!s&&!r)throw e;this.#r&&(b(this.#r),this.#r=null),this.#n&&(b(this.#n),this.#n=null),this.#o&&(b(this.#o),this.#o=null),p&&(D(this.#s),se(),D(ie()));var n=!1,t=!1;const a=()=>{if(n){oe();return}n=!0,t&&re(),k.ensure(),this.#d=0,this.#o!==null&&S(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#r=this.#p(()=>(this.#_=!1,d(()=>this.#h(this.#t)))),this.#l>0?this.#g():this.#e=!1};var h=O;try{y(null),t=!0,s?.(e,a),t=!1}catch(o){I(o,this.#a&&this.#a.parent)}finally{y(h)}r&&B(()=>{this.#o=this.#p(()=>{k.ensure(),this.#_=!0;try{return d(()=>{r(this.#t,()=>e,()=>a)})}catch(o){return I(o,this.#a.parent),null}finally{this.#_=!1}})})}}const Me=["touchstart","touchmove"];function Oe(i){return Me.includes(i)}const Fe=new Set,Y=new Set;function Le(i,e,s,r={}){function n(t){if(r.capture||E.call(e,t),!t.cancelBubble)return ce(()=>s?.call(this,t))}return i.startsWith("pointer")||i.startsWith("touch")||i==="wheel"?B(()=>{e.addEventListener(i,n,r)}):e.addEventListener(i,n,r),n}function Ce(i,e,s,r,n){var t={capture:r,passive:n},a=Le(i,e,s,t);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&fe(()=>{e.removeEventListener(i,a,t)})}let W=null;function E(i){var e=this,s=e.ownerDocument,r=i.type,n=i.composedPath?.()||[],t=n[0]||i.target;W=i;var a=0,h=W===i&&i.__root;if(h){var o=n.indexOf(h);if(o!==-1&&(e===document||e===window)){i.__root=e;return}var l=n.indexOf(e);if(l===-1)return;o<=l&&(a=o)}if(t=n[a]||i.target,t!==e){le(i,"currentTarget",{configurable:!0,get(){return t||s}});var M=O,u=w;y(null),A(null);try{for(var f,c=[];t!==null;){var g=t.assignedSlot||t.parentNode||t.host||null;try{var m=t["__"+r];m!=null&&(!t.disabled||i.target===t)&&m.call(t,i)}catch(T){f?c.push(T):f=T}if(i.cancelBubble||g===e||g===null)break;t=g}if(f){for(let T of c)queueMicrotask(()=>{throw T});throw f}}finally{i.__root=e,delete i.currentTarget,y(M),A(u)}}}function He(i,e){var s=e==null?"":typeof e=="object"?e+"":e;s!==(i.__t??=i.nodeValue)&&(i.__t=s,i.nodeValue=s+"")}function xe(i,e){return X(i,e)}function Pe(i,e){F(),e.intro=e.intro??!1;const s=e.target,r=p,n=_;try{for(var t=ue(s);t&&(t.nodeType!==C||t.data!==de);)t=_e(t);if(!t)throw L;R(!0),D(t);const a=X(i,{...e,anchor:t});return R(!1),a}catch(a){if(a instanceof Error&&a.message.split(`
`).some(h=>h.startsWith("https://svelte.dev/e/")))throw a;return a!==L&&console.warn("Failed to hydrate: ",a),e.recover===!1&&pe(),F(),ge(s),R(!1),xe(i,e)}finally{R(r),D(n)}}const v=new Map;function X(i,{target:e,anchor:s,props:r={},events:n,context:t,intro:a=!0}){F();var h=new Set,o=u=>{for(var f=0;f<u.length;f++){var c=u[f];if(!h.has(c)){h.add(c);var g=Oe(c);e.addEventListener(c,E,{passive:g});var m=v.get(c);m===void 0?(document.addEventListener(c,E,{passive:g}),v.set(c,1)):v.set(c,m+1)}}};o(ve(Fe)),Y.add(o);var l=void 0,M=ye(()=>{var u=s??e.appendChild(N());return Ae(u,{pending:()=>{}},f=>{if(t){be({});var c=$;c.c=t}if(n&&(r.$$events=n),p&&me(f,null),l=i(f,r)||{},p&&(w.nodes.end=_,_===null||_.nodeType!==C||_.data!==Ee))throw we(),L;t&&Te()}),()=>{for(var f of h){e.removeEventListener(f,E);var c=v.get(f);--c===0?(document.removeEventListener(f,E),v.delete(f)):v.set(f,c)}Y.delete(o),u!==s&&u.parentNode?.removeChild(u)}});return x.set(l,M),l}let x=new WeakMap;function Ie(i,e){const s=x.get(i);return s?(x.delete(i),s(e)):Promise.resolve()}class Ve{anchor;#e=new Map;#t=new Map;#s=new Map;#i=new Set;#h=!0;constructor(e,s=!0){this.anchor=e,this.#h=s}#a=()=>{var e=V;if(this.#e.has(e)){var s=this.#e.get(e),r=this.#t.get(s);if(r)ke(r),this.#i.delete(s);else{var n=this.#s.get(s);n&&(this.#t.set(s,n.effect),this.#s.delete(s),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),r=n.effect)}for(const[t,a]of this.#e){if(this.#e.delete(t),t===e)break;const h=this.#s.get(a);h&&(b(h.effect),this.#s.delete(a))}for(const[t,a]of this.#t){if(t===s||this.#i.has(t))continue;const h=()=>{if(Array.from(this.#e.values()).includes(t)){var l=document.createDocumentFragment();G(a,l),l.append(N()),this.#s.set(t,{effect:a,fragment:l})}else b(a);this.#i.delete(t),this.#t.delete(t)};this.#h||!r?(this.#i.add(t),S(a,h,!1)):h()}}};#r=e=>{this.#e.delete(e);const s=Array.from(this.#e.values());for(const[r,n]of this.#s)s.includes(r)||(b(n.effect),this.#s.delete(r))};ensure(e,s){var r=V,n=Re();if(s&&!this.#t.has(e)&&!this.#s.has(e))if(n){var t=document.createDocumentFragment(),a=N();t.append(a),this.#s.set(e,{effect:d(()=>s(a)),fragment:t})}else this.#t.set(e,d(()=>s(this.anchor)));if(this.#e.set(r,e),n){for(const[h,o]of this.#t)h===e?r.skipped_effects.delete(o):r.skipped_effects.add(o);for(const[h,o]of this.#s)h===e?r.skipped_effects.delete(o.effect):r.skipped_effects.add(o.effect);r.oncommit(this.#a),r.ondiscard(this.#r)}else p&&(this.anchor=_),this.#a()}}export{Ve as B,Ce as e,Pe as h,xe as m,He as s,Ie as u};
